<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>互联网公司专业岗位能力模型</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', 'Helvetica Neue', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft YaHei', sans-serif;
        }
        /* Tooltip styles for rank definitions */
        .tooltip {
            position: relative;
        }
        .tooltip .tooltiptext {
            visibility: hidden;
            width: 280px;
            background-color: #1f2937; /* bg-gray-800 */
            color: #fff;
            text-align: left;
            border-radius: 8px;
            padding: 12px;
            position: absolute;
            z-index: 10;
            bottom: 110%;
            left: 50%;
            margin-left: -140px;
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 14px;
            line-height: 1.6;
            pointer-events: none;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }
        /* Custom select arrow */
        select {
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: right 0.5rem center;
            background-size: 1.5em 1.5em;
            padding-right: 2.5rem;
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">

    <div class="container mx-auto p-4 md:p-8">
        
        <!-- Header -->
        <header class="text-center mb-8">
            <h1 class="text-3xl md:text-4xl font-bold text-gray-900">互联网公司专业岗位能力模型</h1>
            <p class="mt-2 text-gray-600">为用人经理设计的岗位能力定义工具</p>
        </header>

        <!-- Controls Section -->
        <div class="bg-white p-6 rounded-xl shadow-md mb-8 sticky top-4 z-10">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div>
                    <label for="primary-sequence" class="block text-sm font-medium text-gray-700 mb-1">一级序列</label>
                    <select id="primary-sequence" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition">
                        <option value="">请选择</option>
                    </select>
                </div>
                <div>
                    <label for="secondary-sequence" class="block text-sm font-medium text-gray-700 mb-1">二级序列</label>
                    <select id="secondary-sequence" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition" disabled>
                        <option value="">请选择</option>
                    </select>
                </div>
                <div class="tooltip">
                    <label for="rank" class="block text-sm font-medium text-gray-700 mb-1">专业职级</label>
                    <select id="rank" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition" disabled>
                        <option value="">请选择</option>
                    </select>
                    <div id="rank-tooltip" class="tooltiptext">请选择一个职级以查看定义</div>
                </div>
            </div>
        </div>

        <!-- Resume Input Section -->
        <div id="resume-section" class="bg-white p-6 rounded-xl shadow-md mb-8 hidden">
            <div class="mb-6">
                <h3 class="text-lg font-semibold text-gray-900 mb-2">候选人简历正文 (可选)</h3>
                <p class="text-sm text-gray-600 mb-4">粘贴候选人简历内容，AI将结合简历背景生成更精准的个性化面试问题。如果不填写，将生成通用面试问题。</p>
                <textarea 
                    id="resume-text" 
                    class="w-full h-40 p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition resize-none"
                    placeholder="例如：张三，产品经理，5年工作经验。2020-至今在XX公司担任高级产品经理，负责XX产品线，管理10人团队，主导了多个重要项目的规划与执行..."
                ></textarea>
                <div class="mt-2 flex items-center text-xs text-gray-500">
                    <svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                    </svg>
                    提示：简历信息将帮助AI生成针对候选人背景的专业面试问题
                </div>
            </div>
        </div>

        <!-- Competency Cards Container -->
        <div id="competency-cards-container" class="grid grid-cols-1 md:grid-cols-2 gap-6">
             <div id="initial-message" class="md:col-span-2 text-center py-16 px-6 bg-white rounded-xl shadow-md">
                <svg class="mx-auto h-12 w-12 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                    <path vector-effect="non-scaling-stroke" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 13h6m-3-3v6m-9 1V7a2 2 0 012-2h14a2 2 0 012 2v10a2 2 0 01-2 2H4a2 2 0 01-2-2z" />
                </svg>
                <h3 class="mt-2 text-lg font-medium text-gray-900">请在上方选择岗位信息</h3>
                <p class="mt-1 text-sm text-gray-500">选择序列和职级后，将自动生成对应的能力要求。</p>
            </div>
        </div>

        <!-- Add Competency Button -->
        <div class="text-center mt-8">
                <button id="add-competency-btn" class="bg-blue-600 text-white font-semibold py-3 px-6 rounded-lg shadow-md hover:bg-blue-700 transition disabled:bg-gray-300 disabled:cursor-not-allowed" disabled>
                    + 新增能力项
                </button>
        </div>

    </div>

    <!-- Add Competency Modal -->
    <div id="add-modal" class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden z-20">
        <div class="relative top-20 mx-auto p-5 border w-full max-w-md shadow-lg rounded-xl bg-white">
            <div class="mt-3 text-center">
                <h3 class="text-lg leading-6 font-medium text-gray-900">新增能力项</h3>
                <div class="mt-4 px-7 py-3 space-y-4 text-left">
                    <div>
                        <label for="modal-competency-select" class="block text-sm font-medium text-gray-700 mb-1">选择能力</label>
                        <select id="modal-competency-select" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition">
                        </select>
                    </div>
                    <div>
                        <label for="modal-level-select" class="block text-sm font-medium text-gray-700 mb-1">选择等级</label>
                        <select id="modal-level-select" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition">
                            <option value="1">L1</option>
                            <option value="2">L2</option>
                            <option value="3">L3</option>
                            <option value="4">L4</option>
                            <option value="5">L5</option>
                        </select>
                    </div>
                </div>
                <div class="items-center px-4 py-3">
                    <button id="modal-add-btn" class="px-4 py-2 bg-blue-600 text-white text-base font-medium rounded-md w-full shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500">
                        确认添加
                    </button>
                    <button id="modal-cancel-btn" class="mt-3 px-4 py-2 bg-gray-200 text-gray-800 text-base font-medium rounded-md w-full shadow-sm hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-400">
                        取消
                    </button>
                </div>
            </div>
        </div>
    </div>




    <script>
        // --- API CONFIGURATION ---
        const QWEN_API_CONFIG = {
            apiKey: 'sk-55d5092efca446cab2b5d6c32deb91ca',
            model: 'qwen-plus',
            baseURL: 'https://dashscope.aliyuncs.com/compatible-mode/v1',
            headers: {
                'Authorization': 'Bearer sk-55d5092efca446cab2b5d6c32deb91ca',
                'Content-Type': 'application/json'
            }
        };

        // --- DATA SECTION ---
        const sequences = {"技术大类 (T)":{"T-RD":"技术研发","T-ALG":"算法工程","T-DS":"数据科学","T-QA":"质量保障","T-OPS":"运维与安全"},"产品大类 (P)":{"P-PM":"产品管理","P-POPS":"产品运营"},"设计大类 (D)":{"D-UX":"体验设计","D-VD":"视觉设计"},"运营大类 (O)":{"O-CNT":"内容运营","O-USR":"用户与社区运营","O-RSK":"风险控制"},"市场与商业大类 (M)":{"M-MKT":"市场品牌","M-BD":"商务拓展","M-COM":"商业化","M-PR":"公共关系"},"职能平台大类 (F)":{"F-HR":"人力资源","F-FL":"财务与法务","F-ADM":"行政与IT支持"},"项目管理办公室 (PMO)":{"PMO-PJM":"项目管理"}};
        const ranks = [{code:"P3",name:"P3 (助理)",definition:"学习与辅助 - 在指导下完成基础工作，学习专业技能和规范。"},{code:"P4",name:"P4 (初级)",definition:"独立执行 - 能够独立完成分配的常规任务。"},{code:"P5",name:"P5 (中级)",definition:"骨干执行 - 能够独立负责一个模块，是团队中的可靠执行者。"},{code:"P6",name:"P6 (高级)",definition:"独当一面 - 能够独立负责一个复杂的项目或业务方向，并开始指导新人。"},{code:"P7",name:"P7 (资深)",definition:"领域专家 - 在某一专业领域有深入的理解和积累，能攻克复杂技术或业务难题。"},{code:"P8",name:"P8 (高级专家)",definition:"跨团队核心 - 能够规划和驱动跨团队的复杂项目，在更大范围内产生技术或业务影响力。"},{code:"P9",name:"P9 (资深专家/架构师)",definition:"业务线引领者 - 能够定义关键问题，为整个业务或技术领域提供顶层设计和规划。"},{code:"P10",name:"P10 (研究员/科学家)",definition:"公司级影响力 - 在公司战略层面提供专业洞见，引领技术或业务方向。"}];
        const competencyLibrary = {"C_L_101":{name:"1.01 团队领导",levels:[{name:"L1 告知团队",desc:"• 主动向团队成员传达某项决定的内容或工作任务的要求，清晰地表明工作的原则和权限范围，明确要完成的目标。<br>• 以正式的渠道公告授权内容，向团队成员解释其中的过程或原因，确保他们了解必要的信息，帮助他们获得配合和减少冲突。"},{name:"L2 维护群体",desc:"• 确保团队的合理需要得到满足，并为团队成员的工作开展争取所需要的各种信息、资源。<br>• 保护自己领导的团队及其声誉，以及做出的安排和决定等，确保集体的任务能够完成。<br>• 采取各类实质性的举措让团队成员感受到自己对团队利益的重视。"},{name:"L3 做好表率",desc:"• 通过以身作则，向团队成员示范自己所期望的行为，使他们接受自己为团队设定的使命和目标。<br>• 在必要的时候与下属同甘共苦，赢得下属的信赖。"},{name:"L4 激发士气",desc:"• 针对不同的情况，灵活采取不同的激励手段，激发下属的热情。<br>• 善于描绘激动人心的使命和目标，使下属充满热情和希望。<br>• 采用各种方式来提高团队的士气，如迅速解雇绩效不佳者，对工作流程进行科学、合理的调整等，以改进团队的工作效率，加强集体向心力。"},{name:"L5 创造氛围",desc:"• 成为团队的精神领袖，从做事方式上深入影响下属，利用个人人格魅力或突出的工作能力在下属和同事间树立威信。<br>• 鼓励团队成员之间互相帮助，创造坦率、温暖、合作的团队氛围。"}]},"C_L_102":{name:"1.02 战略规划",levels:[{name:"L1 战略理解",desc:"• 认识到自己的日常工作与组织战略(由他人制定)的联系，了解短期利益与长远目标间的关系，清楚自己管辖范围内的工作在组织整体发展中的位置和作用。"},{name:"L2 战略行动",desc:"• 按照外部或组织战略的要求安排工作的轻重缓急和优先次序，在资源分配方面，向战略发展的重点方向倾斜，不因为短期业绩压力，忽略长期发展战略的要求。"},{name:"L3 战略设计",desc:"• 在组织整体战略的大范围内，根据局部区域的特点和条件，设计落实管辖范围内的工作战略。"},{name:"L4 战略执行",desc:"• 能够有效抵制与组织战略方向不统一的工作行为。<br>• 在当前具体工作安排时要分析短期目标是否有助于实现长期规划，从宏观和整体进行考虑，做出有利于组织长远发展的工作决策。"},{name:"L5 战略思维",desc:"• 了解分析社会市场大环境条件的变化和长远发展目标的要求对日常工作可能产生的影响，检讨当前的战略和工作部署。"}]},"C_M_201":{name:"2.01 计划执行",levels:[{name:"L1 明确目标",desc:"• 能够根据公司或上级的明确要求，结合本岗位的职责，确定自己工作的短期目标。"},{name:"L2 目标分解",desc:"• 根据具体目标，将工作分解为若干的关键可操作性步骤，设立优先次序，形成任务时间进度表。"},{name:"L3 资源配置",desc:"• 能够准确评估实现工作目标所需的人、财、物等资源，并做出资源配置的可行性方案。"},{name:"L4 监控与反馈",desc:"• 建立监控和反馈机制，能够从整体上把握计划实施的进程。"},{name:"L5 灵活应变",desc:"• 在工作计划中预先考虑预留弹性或额外工作时间，以应对意外事件。<br>• 主动评估工作中可能存在的风险，随时准备应对各种障碍和问题，并提前制定应变方案，以确保工作任务总是按时、保质地完成。"}]},"C_M_202":{name:"2.02 决策能力",levels:[{name:"L1 常规决定",desc:"• 在收集到较为充分的信息后，清楚地向团队成员表明自己的要求，并给予他们基本的、例行的指示，但当对一些例外事项或突发事件时，往往需要借助他人力量。"},{name:"L2 立场坚定",desc:"• 能够坚持立场，决策时以事实为依据，拒绝他人不合理的要求；<br>• 对一些例外事项和突发事件也能独立判断，做出决策。"},{name:"L3 全面考虑",desc:"• 面对有竞争性的方案时，能够全面考虑各方意见，细致分析影响因素，认真对比各个备选方案，及时不拖延的做出决定。"},{name:"L4 风险决策",desc:"• 能够合理预测决策可能带来的风险，衡量潜在的收益，及时做出抉择，并勇于承担风险。"},{name:"L5 长远规划",desc:"• 在复杂、模糊且风险很高的形势下，或能够在大多数人反对的情况下仍坚持观点，毫不犹豫地做出对组织有长远影响的有利决策。"}]},"C_M_203":{name:"2.03 培养指导",levels:[{name:"L1 正面评价",desc:"• 相信他人有主动性，并且有能力学会或改进工作，对他人取得的正面成绩或进步行为表示公开赞扬。<br>• 对下属目前特点、优势以及成熟度有比较深入的了解，对蕴涵在其身上的潜能和未来前途有肯定的预测和评价。"},{name:"L2 传授方法",desc:"• 进行详细的指示或是给予示范，告诉别人如何完成某项任务的具体步骤，提出明确有用的建议。<br>• 通常能够针对个体不同的特点，采用不同的指导方式，使其掌握完成任务的具体方法。"},{name:"L3 分享经验",desc:"• 在做指示或示范时，愿意与他人分享成败的经验，提供为什么要采用某种做法的道理，帮助他人理解以强化培训效果。<br>• 利用提问题、测验或其它的方法来判断他人是否理解，以协助其顺利完成任务。<br>• 为下属的工作提供具体的支持和帮助(例如主动提供有用的工具、有价值信息和资源条件支持等)。"},{name:"L4 提供反馈",desc:"• 对他人的工作表现及时给予客观的、有针对性的反馈意见，从而帮助其认识到需要改进的地方或取得进步的方面。<br>• 在他人遇到挫折时给予支持和鼓励，针对行为而非个人给予反馈，并对其未来的表现表达出正面期待或给予个别化的改进建议。"},{name:"L5 锻炼成长",desc:"• 发现他人需要提高的方面，为其安排有针对性的工作任务、培训项目或其它实践机会。<br>• 设计工作改进和培训计划，以促进其学习和成长。<br>• 鼓励下属承担有挑战性的任务，在控制风险的前提下充分授权，让他们按照自己的方式完成工作。"}]},"C_M_204":{name:"2.04 影响能力",levels:[{name:"L1 直接说服",desc:"• 采用单一、直接的方法或论据对他人进行说服（如：讲大道理、平铺直叙法、死缠烂打等），试图使他人支持自己的观点或要求对方做出承诺或保证。"},{name:"L2 简单多元法",desc:"• 采用两种以上的步骤，或准备多种论据进行说服，但仍然是按照自己的想法进行，没有表现出有意识地针对被影响对象设计影响方式。"},{name:"L3 对症下药",desc:"• 善于换位思考，能够根据对方的关注点（如：兴趣、爱好、利益、声誉、顾虑等），把握恰当时机，灵活选择适合对方的说服影响方式，或调整影响的内容和形式。<br>• 预先考虑到不同对象的可能反应，提前做出准备或预备方案，期待并准备应付别人可能会产生的反应。"},{name:"L4 巧借力法",desc:"• 寻找支持自己观点并能对别人真正产生影响的人物，使用连环套的方式对目标施加影响，如：借助上级力量，游说关键性人物，利用人际关系网络进行间接影响等。"},{name:"L5 利益联盟",desc:"• 能够根据情况设计复杂的影响策略，与关键人物结成政治或利益联盟，采用幕后交易的方式获得他们的支持。"}]},"C_M_205":{name:"2.05 组织协调",levels:[{name:"L1 思路明确, 资源到位",desc:"• 了解组织中的资源现状，能基本保证完成工作任务所需的资源按时到位。<br>• 有一定的组织活动能力，愿意与人建立联系，但缺乏足够的创意方法，对参与者缺乏吸引力和控制力。"},{name:"L2 组织和调动资源",desc:"• 组织各种工作时考虑周到，能根据任务的重要紧急程度，提前分配或调动各种资源。<br>• 善于同各方面保持融洽的关系，在兼顾对方利益的基础上促进相互理解、共同合作，保证工作顺利开展。"},{name:"L3 调解冲突",desc:"• 组织中出现冲突时具有一定的调解技巧，必要时借助上级或其他力量以保证工作继续开展。<br>• 通过及时有效的分配和调动资源，克服由于他人原因引起的延误，圆满解决超出自己控制范围的问题。"},{name:"L4 获取支持",desc:"• 工作中常能有新的创意，组织各项工作时有一定的方法和技巧调动参与者的积极性，善于根据工作需要策划出大家喜爱参与，又有利于实现组织目标的活动。"},{name:"L5 对外协调",desc:"• 有良好的沟通能力，社会交往面较宽，善于与外界建立合作关系，利用方方面面的资源为工作服务。"}]},"C_P_301":{name:"3.01 成本意识",levels:[{name:"L1 成本估算",desc:"• 能够运用预算工具对工作中可能的成本进行合理估算。"},{name:"L2 费用控制",desc:"• 贯彻公司的财务制度，在保证工作质量的前提下，定期监督工作支出状况，将费用控制在预算内。"},{name:"L3 避免浪费",desc:"• 对他人的浪费行为，能够进行提醒或劝阻。<br>• 敢于挑战并尽量避免可能会使成本增加的一些官僚做法。"},{name:"L4 主动节约",desc:"• 总是能够想方设法，积极地以灵活、创新的方式（如优化流程等）改善工作，从而节省成本。"},{name:"L5 成本效益分析",desc:"• 能够进行投入和产出分析，在控制成本的基础上，通过尝试识别新的高产出机会，增加有效投入，以实现公司利益的最大化。"}]},"C_P_302":{name:"3.02 客户导向",levels:[{name:"L1 及时回应",desc:"• 耐心倾听客户的咨询、要求和抱怨，及时回应客户的要求，解决常规性的客户问题。"},{name:"L2 保持沟通",desc:"• 与客户保持沟通，当客户需要帮助的时候可以随时取得联系。<br>• 关注客户的满意度，提供对客户有帮助的信息。"},{name:"L3 个性化服务",desc:"• 把客户的明确需求看成是自己的工作任务，为此投入时间和精力去做工作。<br>• 当常规产品和服务不能满足客户需要时，为客户提供个性化的产品和服务，尽可能快速准确的解决客户问题。"},{name:"L4 挖掘潜在需求",desc:"• 关注和了解客户的潜在需求，致力于开发符合客户需求的产品和服务。"},{name:"L5 重视长远利益",desc:"• 担任客户的顾问角色，针对客户的需求、问题提出自己独立的观点，并采取行动解决问题，积极参与帮助客户进行决策。<br>• 为客户寻找长期利益，能够采取具体的措施为客户提供增值服务，并借此成功取信于客户。"}]},"C_P_303":{name:"3.03 专业性",levels:[{name:"L1 回答问题",desc:"• 当被问及时作为专家一样回答问题，会告诉别人他对一些技术问题的理解。"},{name:"L2 额外帮助",desc:"• 尽力回答更深入的问题，并花时间告诉他人额外的知识，帮助他们解决技术问题，或帮助其影响客户。"},{name:"L3 技术顾问",desc:"• 像一位技术顾问一样，主动提供个人的专业知识，寻找机会帮助人们解决技术难题或提升技术水平。"},{name:"L4 内部传播",desc:"• 作为技术工作人员向他人介绍新技术，想要新技术在公司范围内得到认可。"},{name:"L5 外部传播",desc:"• 想办法向外部传播专业知识：在专业性杂志上发表文章，公开演讲，使新的知识、技术广为人知。"}]},"C_T_401":{name:"4.01 创新能力",levels:[{name:"L1 经验推断",desc:"• 当面对新挑战时，通常利用以往经验，或者参照系统内部的观点进行推断。"},{name:"L2 创新思考",desc:"• 主动关注身边发生的新技术和新方法，与现有事物进行比较，发现其中的差异所在。<br>• 思考新技术或新问题对自己工作可能产生的影响。"},{name:"L3 挑战现状",desc:"• 不断对现有事物提出问题，挑战传统的工作方法和思维方式。<br>• 对本职工作的改善有自己的见解，不断引入其它领域的观念和方法来指导工作。<br>• 敢于为制定新政策、采取新措施或尝试新方法承担风险。"},{name:"L4 推陈出新",desc:"• 尝试新的事物，而且通过自己的判断进行合理使用，降低风险。<br>• 改进现有的方案，找到更好更有效的工作方式或产品。"},{name:"L5 发明创造",desc:"• 形成和运用新的概念，创造出全新的工作方法或产品。<br>• 拥有市场上的新发明，或能够建立获得社会认可的理论体系，可以指导并提高绩效。"}]},"C_T_402":{name:"4.02 分析式思维",levels:[{name:"L1 分解问题",desc:"• 将问题分解为各项独立的互不联系的任务或活动，并罗列出来。"},{name:"L2 简单因果",desc:"• 将问题分解为简单关联的若干部分，认识到简单直接的因果关系（单因单果）。<br>• 进行黑白分明的选择（支持或反对，接受或拒绝等）。"},{name:"L3 多因多果",desc:"• 将问题或事物分解成相互关联的若干部分，认识到简单的多重因果关系（一因多果，多因一果的简单因果链）。"},{name:"L4 全面判断",desc:"• 将问题或事物分解成相互关联且重要性不等的若干部分，认识到复杂因果链。<br>• 能够对某种原因或结果的可能性和重要性进行分析，衡量不同行动方法的价值。"},{name:"L5 未雨绸缪",desc:"• 预测可能的障碍，并事先设想接下来解决问题的步骤。<br>• 能事先想出几个解决问题的方案，在权衡轻重、利弊和可能性的基础上，对不同方案进行判断和选择。"}]},"C_T_403":{name:"4.03 归纳思维",levels:[{name:"L1 照搬套用",desc:"• 能够运用浅显的规律（经验法则）和普通常识确定问题所在。<br>• 当所面临的情况与以前经历过的情况相同时，能够识别出共同之处并应用以前的经验。"},{name:"L2 模式识别",desc:"• 面对不完全相同的现象和问题时，可以认识到不同事物（如所面临的情况与以前经历过的情况）之间的相似之处。"},{name:"L3 整体方法",desc:"• 利用学习到的理论知识，以及在处理其它问题时取得的经验，对现有问题进行整体分析和处理。"},{name:"L4 化繁为简",desc:"• 面对复杂的情况时，能将各种观点、问题和搜索到的数据归纳提炼出核心的观点或简洁的结论。"},{name:"L5 独具慧眼",desc:"• 在处理问题时，能够用自己创造的概念来反映各个事物间的内在联系并指导问题的解决。<br>• 在处理问题中能够发现别人没有发现的关键点，透过表面，深入问题的本质，总结出规律。"}]},"C_T_404":{name:"4.04 信息收集",levels:[{name:"L1 打听消息",desc:"• 面临困难任务时，想到要尽可能收集多方面的信息来解决问题。<br>• 直接询问相关知情人员，获得现成的信息来源，并花时间汇集资料。"},{name:"L2 调查情况",desc:"• 亲自去现场对情况进行观察，询问相关人员，收集有用的信息。"},{name:"L3 挖掘真相",desc:"• 接触其他尽可能多的渠道或对象，获得他们的观点、背景资料及经验等各种相关或潜在相关的信息。<br>• 不满足于表面信息的获得，能深入询问，挖掘问题的核心和真相。"},{name:"L4 系统研究",desc:"• 形成收集信息的习惯，建立起能够长期运作的信息收集系统。<br>• 对收集到的信息进行系统分类、整理和保存等方面的管理。"},{name:"L5 情报系统",desc:"• 建立相关的信息收集系统，通过系统的正式研究渠道（如报纸、杂志等）来获取信息。<br>• 长期不间断地使用自己的系统方法收集信息，并不断挖掘未来的潜在信息和信息收集途径。"}]},"C_T_405":{name:"4.05 学习领悟",levels:[{name:"L1 学习积累",desc:"• 对别人身上的闪光点或者好的做法，即使目前不使用，也记录和积累下来。<br>• 多向有经验的人学习好的想法和好的做法。"},{name:"L2 直接运用",desc:"• 将别人明确表述的经验和做法，应用到工作中。"},{name:"L3 举一反三",desc:"• 对别人明确表述的经验和做法加以调整修改，运用于解决不同的问题。"},{name:"L4 融会贯通",desc:"• 将各方面知识的精髓融为一体，得到处理不同问题的通则或经验方法，并将之变为自己的东西，用它来分析现实中的工作问题，提出有效的解决办法。"},{name:"L5 提炼升华",desc:"• 从经历的偶发体验或事件中，亲自总结出解决问题的方法并加以运用。"}]},"C_I_501":{name:"5.01 成就动机",levels:[{name:"L1 表达意愿",desc:"• 表现出把工作做好的愿望。<br>• 对浪费和低效率感到不满和沮丧（例如，抱怨浪费时间、资源等）。"},{name:"L2 符合标准",desc:"• 工作表现符合公司制定的管理标准。"},{name:"L3 制定标准",desc:"• 为自己制定衡量进步的具体的客观标准（譬如自己要把工作成绩做到前十名或者像某个榜样那样）。"},{name:"L4 改善绩效",desc:"• 根据所制定的进步标准，对现有的工作方法和内容进行改进，以提高工作绩效。"},{name:"L5 挑战目标",desc:"• 为自己制定具有挑战性的目标并采取具体行动去实现目标（“挑战性”是指尽了很大的努力后，成功的可能性为80%左右的目标，如同类人员中的优秀标准）。"}]},"C_I_502":{name:"5.02 沟通能力",levels:[{name:"L1 愿意沟通",desc:"• 有沟通的愿望，能够回应他人发出的沟通信号。"},{name:"L2 准确表达",desc:"• 能够耐心倾听他人的观点，基本把握他人谈话的主旨。<br>• 能比较完整地表达自己的意见和想法，使对方能够理解。"},{name:"L3 高效沟通",desc:"• 在与他人交流时能够准确理解他人的观点，积极地给予反馈。<br>• 表达言简意赅，具有较强的逻辑性，观点清晰明确。"},{name:"L4 注重技巧",desc:"• 通过一些语言技巧（如使用比喻、排比等）清晰地表达较为深奥而复杂的观点。<br>• 在表达时有意识地使用一些肢体语言作为辅助，增加语言表达的感染力。"},{name:"L5 设计策略",desc:"• 预见到他人的需要和关注点，根据不同对象采取相应的沟通策略。<br>• 对不同对象和情境所要求的沟通方式有系统和深入的认识，并能自如地运用和进行灵活调整。"}]},"C_I_503":{name:"5.03 关注细节",levels:[{name:"L1 行事规范",desc:"• 对自己的工作要求严格，都会按照既定的操作规范或上级指示进行，较少出现错误。"},{name:"L2 主动检查",desc:"• 注重对自己的工作进行检查，以核实提供的资料和信息的真实性。"},{name:"L3 多方验证",desc:"• 在提供资料或信息前，能够主动通过多种途径，对其真实性进行交叉验证。"},{name:"L4 监控他人",desc:"• 注意督促下属或配合自己工作的其他人员对工作的各个环节进行多角度、全方位的考虑，确保工作准确无误。<br>• 能够对他人的工作的细节进行要求或检查，发现或纠正其工作中的差错和疏忽等。"},{name:"L5 运用系统",desc:"• 学习并督促自己及他人掌握各种可以提升和改进工作细节的方法，能够设计或使用程序化检查错误的手段。"}]},"C_I_504":{name:"5.04 积极主动",levels:[{name:"L1 应声而动",desc:"• 眼前的机会并立即采取行动，纠正眼前的问题。"},{name:"L2 当机立断",desc:"• 在面对危机情况时，迅速果断的采取行动去处理问题。"},{name:"L3 短期计划",desc:"• 在一两天的时间范围内，认识到预测三个月范围内其他人并未意识到的某个机会或问题，并采取相应的准备行动。"},{name:"L4 中期计划",desc:"• 通过提前一个月采取独特和额外的行动来创造机会或降低问题发生的可能性（如设立新的项目或机构，进行有针对性的巡视等）。<br>• 提前三个月采取行动以避免可能出现的危机。"},{name:"L5 长期计划",desc:"• 能够预期到半年，或更多年以后可能发生的情况。<br>• 提前半年以上采取行动以创造机会或避免问题，这些机会或问题通常不被其他人所意识到。"}]},"C_I_505":{name:"5.05 坚持不懈",levels:[{name:"L1 信念坚定",desc:"• 在工作中树立了不松懈的工作信念。<br>• 在受到挫折和批评时，能够抑制自己的消极想法和冲动。"},{name:"L2 行为坚定",desc:"• 为了达到目标，能够持续不懈地努力工作，甚至面临繁琐的、枯燥的工作任务时也能坚持。"},{name:"L3 克服困难",desc:"• 面对挫折时能够主动意识并正确对待自己的不足，从错误中吸取教训，坚持从头再来。"},{name:"L4 自我激励",desc:"• 追求目标的过程中不断地激励自己，即使很艰难也照样不停歇。<br>• 能够承受较大的工作压力，采取积极行动去克服困难。"},{name:"L5 意志顽强",desc:"• 面对突发情况或强烈反对也毫不退缩和动摇，并团结和带领他人为实现目标一起奋斗。<br>• 越挫越勇，在屡战屡败的情况下不放弃采取新的理念和方法去探索，以完成任务或达到目标。"}]},"C_I_506":{name:"5.06 灵活性",levels:[{name:"L1 接受变化",desc:"• 能客观地看到情况的变化，面对新的、不同的环境或条件时，表示愿意调整。"},{name:"L2 愿意改变",desc:"• 面对不同的证据和信息，有改变自己看法的意愿，不固执己见。<br>• 能够分析周围环境的变化情况，判断自己需要怎样调整。"},{name:"L3 个体变通",desc:"• 为了完成任务或达到组织目标，适当地对正常的工作程序或规章制度做临时调整以适应某种特殊情况。<br>• 针对情况或他人的反应，改变自己的策略、目标或计划，以适应个人情况和客观环境。"},{name:"L4 组织调整",desc:"• 在自己的组织内部提倡或进行小规模或短期的调整，以应情况所需。"},{name:"L5 策略调整",desc:"• 在自己组织内部对工作计划、行动方案、预期目标等进行较大规模的全面及长期的调整以适应具体环境的要求。"}]},"C_I_507":{name:"5.07 人际交往",levels:[{name:"L1 保持工作关系",desc:"• 与他人保持工作相关的接触，维持正式的工作关系。<br>• 能够接受他人邀请参加社交活动，从而建立工作关系，但不扩大邀请或是刻意建立工作关系。"},{name:"L2 非正式接触",desc:"• 能敏感地把握他人的性格特点和利益需求，为今后的交往奠定基础。<br>• 偶尔在工作中开始以非正式的方式与别人交流。"},{name:"L3 主动联络",desc:"• 积极创造与他人接触的机会，主动联络对方，利用非正式接触建立融洽关系。<br>• 在交往场合，能够调动大家的交流情绪，营造使大家可以轻松交流的气氛。"},{name:"L4 维护关系",desc:"• 经常在工作外的集会、活动上，继续与同事或客户及其他相关人员保持友善关系。<br>• 利用他人间的间接关系，扩大人际网络范围。"},{name:"L5 深厚情谊",desc:"• 与他人建立长期稳定的亲密私人友谊，相互之间可以坦率地交流，谈论敏感问题和私事。<br>• 对方在对与自己有重要关系的问题上，能够主动地通风报信。<br>• 能够利用私人友谊扩展业务网络。"}]},"C_I_508":{name:"5.08 自控能力",levels:[{name:"L1 拒绝诱惑",desc:"• 有能力抵制可能的诱惑，不会采取不恰当和冲动的行为。"},{name:"L2 抑制感情",desc:"• 在感觉到强烈的情感情（例如：发怒、极其沮丧或高度压力）时，能抑制其表现出来。"},{name:"L3 冷静应对",desc:"• 当感觉到强烈情绪时（如发怒、极其沮丧或高度压力）时，不仅能抑制其表现出来，而且能继续平静地进行谈话或开展工作。<br>• 能够长时间的抑制感情或抵抗压力，在持续的压力状况下以一贯的正常状态推进工作。"},{name:"L4 建设性回应",desc:"• 感觉到强烈的感情或其他压力，抑制住它们并以建设性的方法回应压力和不良情绪，冷静分析问题来源，甚至能总结避免今后出现类似情况的预防措施和应对方法。"},{name:"L5 安抚他人",desc:"• 在群体人员都受到强烈冲击时，不仅能够控制自己的情绪，也能鼓励别人也冷静下来，保持良好心态。"}]},"C_I_509":{name:"5.09 自信心",levels:[{name:"L1 显示自信",desc:"• 明确表示不需要监督或他人主动的指导和帮助，自觉工作。<br>• 以有信心、强有力的方式给他人留下深刻印象的方式呈现自己。"},{name:"L2 自主行动",desc:"• 适当的时候，能够突破他人明确要求遵守的传统和标准。<br>• 必要时，即使别人反对，也能独立行动并对后果承担责任。"},{name:"L3 充满自信",desc:"• 对自己的能力有信心，在同级别的同事或朋友群中，认为自己是专家，能力比别人强，是事情成功的关键和重要推动者。<br>• 证明自己的观点有道理，在冲突中能够清楚表达自己的立场，以行动来证明自己所表达的自信心。"},{name:"L4 敢于挑战",desc:"• 喜欢具有挑战性的任务，对富有挑战性的工作感到兴奋，积极要求承担新的任务和工作。<br>• 当与上级管理人员、客户或其他权势人物产生意见分歧时，能直截了当但彬彬有礼地表明自己不同的看法。"},{name:"L5 无所畏惧",desc:"• 始终坚持自己的观点和意见，不害怕与上级主管或客户发生冲突。<br>• 有意识地选择极具挑战性的任务和工作。"}]},"C_A_601":{name:"6.01 诚信正直",levels:[{name:"L1 遵守制度",desc:"• 遵纪守法，遵守社会公德。<br>• 遵守公司的政策原则和规章制度，不超越制度规定权限。"},{name:"L2 信守承诺",desc:"• 不轻易承诺，但对承诺过的事情会想办法实现。"},{name:"L3 实事求是",desc:"• 不说假话，真实反映客观情况，不为个人利益隐瞒事实或欺骗他人。<br>• 对事情进行公平公正的评价和处理，不受个人利益影响。"},{name:"L4 正直廉洁",desc:"• 遇到利益诱惑时能够顶住压力，坚持原则。<br>• 正直廉洁，不凭借权力谋取个人私利。"},{name:"L5 道德楷模",desc:"• 从自我做起，自觉维护企业在市场中树立的诚信形象，为他人充当起道德行为的楷模。<br>• 对于他人违法经营、损害企业诚信形象的行为能够勇敢说服和劝导，做到自我监督和与他人的相互监督。"}]},"C_A_602":{name:"6.02 敬业精神",levels:[{name:"L1 遵章守纪",desc:"• 遵守公司的各项规章制度，不迟到早退。<br>• 保证饱满的工作时间，不处理与工作无关的私人事情。"},{name:"L2 认真做事",desc:"• 认真完成领导交办的工作任务，保证按时交付成果，符合一定的工作标准。"},{name:"L3 吃苦耐劳",desc:"• 工作中能够吃苦耐劳，不计较得失，以高质量标准要求自己，尽力把工作做到最好。<br>• 在工作中遇到困难时不放弃，会努力克服困难完成任务。"},{name:"L4 全力投入",desc:"• 对工作充满激情，甘于奉献，宁愿放弃休息时间也要按时保质保量地完成任务。"},{name:"L5 甘于奉献",desc:"• 在工作中愿意为了公司或团队的利益付出额外的努力，放弃或牺牲个人利益。"}]},"C_A_603":{name:"6.03 全局观念",levels:[{name:"L1 认清局势",desc:"• 明确了解组织中的整体战略目标和本部门目标及个人目标，企业整体利益与局部利益、个人利益之间的关系。<br>• 理解组织的整体利益与局部利益、个人利益之间会不可避免地出现矛盾。"},{name:"L2 服从组织",desc:"• 在组织要求局部利益或个人利益做出让步时，能够进行自我调整，以服从大局。<br>• 关心组织整体发展和其他部门岗位的工作情况。"},{name:"L3 遵从规则",desc:"• 遵从企业运作中的各种规则和组织的整体战略方向，从组织的整体和长远利益出发考虑本部门的工作，不会为局部小利而轻易打破规则和已经建立的平衡。<br>• 积极倡导部门间的协同工作，并身体力行地团结或配合他人共同实现目标。"},{name:"L4 甘于奉献",desc:"• 在决策时通盘考虑，必要时为保证组织的整体利益不受损害，能够牺牲局部或个人利益。<br>• 身体力行地团结或配合他人共同实现目标。"},{name:"L5 积极维护",desc:"• 以企业发展大局为重，在组织利益受到损害时能够挺身而出，积极地维护企业利益。<br>• 当局部利益和组织整体利益发生冲突时，能够顶着所在部门或团队内部的压力，做出有利于整个组织的决策。"}]},"C_A_604":{name:"6.04 团队合作",levels:[{name:"L1 信息共享",desc:"• 愿意与他人合作开展工作，自愿参与和支持团队的决定。<br>• 能与群体中的其他成员共同交流，分享有用的信息和资源。"},{name:"L2 征求意见",desc:"• 尊重他人的意见和专业知识，愿意向他人学习。<br>• 在做决策时，诚恳地征求团队他人的意见、创意和经验。"},{name:"L3 鼓励合作",desc:"• 用正面字眼看待和谈论团队的成员，表达出对他人才智的尊重。<br>• 对其他团队成员的能力和贡献给予公开赞赏和鼓励。<br>• 在危机或关键时刻愿意站出来帮助其他的团队成员解决难题。"},{name:"L4 创造氛围",desc:"• 在团队中建立起饱满的士气，统一的行为标准和价值观以及健康的合作氛围，提升团队凝聚力。"},{name:"L5 解决冲突",desc:"• 不会隐藏和回避团队中的冲突，开诚公地处理团队内部矛盾，并积极寻求有利的冲突解决方案。"}]},"C_A_605":{name:"6.05 责任心",levels:[{name:"L1 明确职责",desc:"• 明确自己的工作职责和角色，认识到自己承担工作的重要性。"},{name:"L2 主动落实",desc:"• 以一种积极主动的姿态处理事情，对职责范围内的工作进展情况及时进行核查，对发现的问题采取必要的行动，以保证工作按要求标准完成。"},{name:"L3 尽职尽责",desc:"• 当工作中面临需要同时处理职责内和职责外的任务时，能主动采取应对措施，保证不因为职责以外的任务而影响职责内工作的完成情况。"},{name:"L4 光明磊落",desc:"• 主动公开地承担本职工作中的责任问题，不欺上瞒下，并及时主动的采取补救预防措施，防止类似的问题再次发生。"},{name:"L5 克己奉公",desc:"• 支持公司战略目标的实现，即使面临巨大压力或个人利益受到损失时，仍能不折不扣完成工作并承担责任。"}]},"C_A_606":{name:"6.06 组织承诺",levels:[{name:"L1 遵守制度",desc:"• 了解并遵守组织的各种规章制度、礼仪规范、企业文化等。<br>• 关注组织的对外形象和荣誉。"},{name:"L2 服从安排",desc:"• 了解并支持组织的任务和目标。<br>• 服从上级安排，根据组织的需要调整自己的工作，表现出合作的态度。"},{name:"L3 宣扬文化",desc:"• 认同组织价值观和企业文化，经常在组织内外传播、宣导组织要求的行为规范和价值导向。"},{name:"L4 个人牺牲",desc:"• 组织利益与个人利益发生冲突时，将组织需求置于个人需求之上，必要的时候牺牲个人利益以保证组织的利益。"},{name:"L5 要求他人",desc:"• 即使会导致不受他人欢迎，为了组织的利益，也要力排众议。<br>• 要求他人也作出牺牲以符合组织的需求。"}]}};
        const modelData = {"T-RD":{"P3":[{c:"C_A_605",l:1},{c:"C_P_303",l:1},{c:"C_T_402",l:1},{c:"C_I_504",l:1}],"P4":[{c:"C_A_605",l:2},{c:"C_P_303",l:1},{c:"C_T_402",l:1},{c:"C_I_504",l:1}],"P5":[{c:"C_A_605",l:2},{c:"C_P_303",l:2},{c:"C_T_402",l:2},{c:"C_I_504",l:2}],"P6":[{c:"C_T_402",l:3},{c:"C_P_303",l:3},{c:"C_A_605",l:3},{c:"C_I_504",l:2}],"P7":[{c:"C_T_402",l:4},{c:"C_P_303",l:4},{c:"C_A_605",l:3},{c:"C_I_504",l:3}],"P8":[{c:"C_T_402",l:4},{c:"C_P_303",l:4},{c:"C_A_605",l:4},{c:"C_I_504",l:4}],"P9":[{c:"C_T_402",l:5},{c:"C_P_303",l:5},{c:"C_A_605",l:4},{c:"C_I_504",l:4}],"P10":[{c:"C_T_402",l:5},{c:"C_P_303",l:5},{c:"C_A_605",l:5},{c:"C_I_504",l:5}]},"T-ALG":{"P3":[{c:"C_T_402",l:1},{c:"C_T_403",l:1},{c:"C_I_501",l:1},{c:"C_P_302",l:1}],"P4":[{c:"C_T_402",l:2},{c:"C_T_403",l:1},{c:"C_I_501",l:1},{c:"C_P_302",l:1}],"P5":[{c:"C_T_402",l:2},{c:"C_T_403",l:2},{c:"C_I_501",l:2},{c:"C_P_302",l:2}],"P6":[{c:"C_T_402",l:3},{c:"C_I_501",l:3},{c:"C_T_403",l:3},{c:"C_P_302",l:2}],"P7":[{c:"C_T_402",l:4},{c:"C_I_501",l:4},{c:"C_T_403",l:3},{c:"C_P_302",l:3}],"P8":[{c:"C_T_402",l:4},{c:"C_I_501",l:4},{c:"C_T_403",l:4},{c:"C_P_302",l:4}],"P9":[{c:"C_T_402",l:5},{c:"C_I_501",l:5},{c:"C_T_403",l:4},{c:"C_P_302",l:4}],"P10":[{c:"C_T_402",l:5},{c:"C_I_501",l:5},{c:"C_T_403",l:5},{c:"C_P_302",l:5}]},"T-DS":{"P3":[{c:"C_T_402",l:1},{c:"C_T_403",l:1},{c:"C_I_501",l:1},{c:"C_P_302",l:1}],"P4":[{c:"C_T_402",l:2},{c:"C_T_403",l:1},{c:"C_I_501",l:1},{c:"C_P_302",l:1}],"P5":[{c:"C_T_402",l:2},{c:"C_T_403",l:2},{c:"C_I_501",l:2},{c:"C_P_302",l:2}],"P6":[{c:"C_T_402",l:3},{c:"C_I_501",l:3},{c:"C_T_403",l:3},{c:"C_P_302",l:2}],"P7":[{c:"C_T_402",l:4},{c:"C_I_501",l:4},{c:"C_T_403",l:3},{c:"C_P_302",l:3}],"P8":[{c:"C_T_402",l:4},{c:"C_I_501",l:4},{c:"C_T_403",l:4},{c:"C_P_302",l:4}],"P9":[{c:"C_T_402",l:5},{c:"C_I_501",l:5},{c:"C_T_403",l:4},{c:"C_P_302",l:4}],"P10":[{c:"C_T_402",l:5},{c:"C_I_501",l:5},{c:"C_T_403",l:5},{c:"C_P_302",l:5}]},"T-QA":{"P3":[{c:"C_A_605",l:1},{c:"C_I_503",l:1},{c:"C_T_402",l:1},{c:"C_I_502",l:1}],"P4":[{c:"C_A_605",l:2},{c:"C_I_503",l:1},{c:"C_T_402",l:1},{c:"C_I_502",l:1}],"P5":[{c:"C_A_605",l:2},{c:"C_I_503",l:2},{c:"C_T_402",l:2},{c:"C_I_502",l:2}],"P6":[{c:"C_A_605",l:3},{c:"C_I_503",l:3},{c:"C_T_402",l:3},{c:"C_I_502",l:2}],"P7":[{c:"C_A_605",l:4},{c:"C_T_402",l:4},{c:"C_I_503",l:3},{c:"C_I_502",l:3}],"P8":[{c:"C_A_605",l:4},{c:"C_T_402",l:4},{c:"C_I_503",l:4},{c:"C_I_502",l:4}],"P9":[{c:"C_A_605",l:5},{c:"C_T_402",l:5},{c:"C_I_503",l:4},{c:"C_I_502",l:4}],"P10":[{c:"C_A_605",l:5},{c:"C_T_402",l:5},{c:"C_I_503",l:5},{c:"C_I_502",l:5}]},"T-OPS":{"P3":[{c:"C_A_605",l:1},{c:"C_I_503",l:1},{c:"C_T_402",l:1},{c:"C_I_502",l:1}],"P4":[{c:"C_A_605",l:2},{c:"C_I_503",l:1},{c:"C_T_402",l:1},{c:"C_I_502",l:1}],"P5":[{c:"C_A_605",l:2},{c:"C_I_503",l:2},{c:"C_T_402",l:2},{c:"C_I_502",l:2}],"P6":[{c:"C_A_605",l:3},{c:"C_I_503",l:3},{c:"C_T_402",l:3},{c:"C_I_502",l:2}],"P7":[{c:"C_A_605",l:4},{c:"C_T_402",l:4},{c:"C_I_503",l:3},{c:"C_I_502",l:3}],"P8":[{c:"C_A_605",l:4},{c:"C_T_402",l:4},{c:"C_I_503",l:4},{c:"C_I_502",l:4}],"P9":[{c:"C_A_605",l:5},{c:"C_T_402",l:5},{c:"C_I_503",l:4},{c:"C_I_502",l:4}],"P10":[{c:"C_A_605",l:5},{c:"C_T_402",l:5},{c:"C_I_503",l:5},{c:"C_I_502",l:5}]},"P-PM":{"P3":[{c:"C_P_302",l:1},{c:"C_T_403",l:1},{c:"C_M_204",l:1},{c:"C_T_401",l:1}],"P4":[{c:"C_P_302",l:2},{c:"C_T_403",l:1},{c:"C_M_204",l:1},{c:"C_T_401",l:1}],"P5":[{c:"C_P_302",l:2},{c:"C_T_403",l:2},{c:"C_M_204",l:2},{c:"C_T_401",l:2}],"P6":[{c:"C_P_302",l:3},{c:"C_T_403",l:3},{c:"C_M_204",l:2},{c:"C_T_401",l:2}],"P7":[{c:"C_P_302",l:4},{c:"C_T_403",l:4},{c:"C_M_204",l:3},{c:"C_T_401",l:3}],"P8":[{c:"C_P_302",l:4},{c:"C_T_403",l:4},{c:"C_M_204",l:4},{c:"C_T_401",l:4}],"P9":[{c:"C_P_302",l:5},{c:"C_T_403",l:5},{c:"C_M_204",l:4},{c:"C_T_401",l:4}],"P10":[{c:"C_P_302",l:5},{c:"C_T_403",l:5},{c:"C_M_204",l:5},{c:"C_T_401",l:5}]},"P-POPS":{"P3":[{c:"C_I_501",l:1},{c:"C_M_201",l:1},{c:"C_P_302",l:1},{c:"C_T_402",l:1}],"P4":[{c:"C_I_501",l:2},{c:"C_M_201",l:1},{c:"C_P_302",l:1},{c:"C_T_402",l:1}],"P5":[{c:"C_I_501",l:2},{c:"C_M_201",l:2},{c:"C_P_302",l:2},{c:"C_T_402",l:2}],"P6":[{c:"C_I_501",l:3},{c:"C_M_201",l:3},{c:"C_T_402",l:3},{c:"C_P_302",l:2}],"P7":[{c:"C_I_501",l:4},{c:"C_M_201",l:4},{c:"C_T_402",l:3},{c:"C_P_302",l:3}],"P8":[{c:"C_I_501",l:4},{c:"C_M_201",l:4},{c:"C_T_402",l:4},{c:"C_P_302",l:4}],"P9":[{c:"C_I_501",l:5},{c:"C_M_201",l:5},{c:"C_T_402",l:4},{c:"C_P_302",l:4}],"P10":[{c:"C_I_501",l:5},{c:"C_M_201",l:5},{c:"C_T_402",l:5},{c:"C_P_302",l:5}]},"D-UX":{"P3":[{c:"C_P_302",l:1},{c:"C_P_303",l:1},{c:"C_I_502",l:1},{c:"C_T_401",l:1}],"P4":[{c:"C_P_302",l:2},{c:"C_P_303",l:1},{c:"C_I_502",l:1},{c:"C_T_401",l:1}],"P5":[{c:"C_P_302",l:2},{c:"C_P_303",l:2},{c:"C_I_502",l:2},{c:"C_T_401",l:2}],"P6":[{c:"C_P_302",l:3},{c:"C_P_303",l:3},{c:"C_I_502",l:3},{c:"C_T_401",l:2}],"P7":[{c:"C_P_302",l:4},{c:"C_P_303",l:4},{c:"C_I_502",l:3},{c:"C_T_401",l:3}],"P8":[{c:"C_P_302",l:4},{c:"C_P_303",l:4},{c:"C_I_502",l:4},{c:"C_T_401",l:4}],"P9":[{c:"C_P_302",l:5},{c:"C_P_303",l:5},{c:"C_I_502",l:4},{c:"C_T_401",l:4}],"P10":[{c:"C_P_302",l:5},{c:"C_P_303",l:5},{c:"C_I_502",l:5},{c:"C_T_401",l:5}]},"D-VD":{"P3":[{c:"C_P_303",l:1},{c:"C_I_503",l:1},{c:"C_P_302",l:1},{c:"C_T_401",l:1}],"P4":[{c:"C_P_303",l:2},{c:"C_I_503",l:1},{c:"C_P_302",l:1},{c:"C_T_401",l:1}],"P5":[{c:"C_P_303",l:2},{c:"C_I_503",l:2},{c:"C_P_302",l:2},{c:"C_T_401",l:2}],"P6":[{c:"C_P_303",l:3},{c:"C_I_503",l:3},{c:"C_T_401",l:3},{c:"C_P_302",l:2}],"P7":[{c:"C_P_303",l:4},{c:"C_T_401",l:4},{c:"C_I_503",l:3},{c:"C_P_302",l:3}],"P8":[{c:"C_P_303",l:4},{c:"C_T_401",l:4},{c:"C_I_503",l:4},{c:"C_P_302",l:4}],"P9":[{c:"C_P_303",l:5},{c:"C_T_401",l:5},{c:"C_I_503",l:4},{c:"C_P_302",l:4}],"P10":[{c:"C_P_303",l:5},{c:"C_T_401",l:5},{c:"C_I_503",l:5},{c:"C_P_302",l:5}]},"O-CNT":{"P3":[{c:"C_P_302",l:1},{c:"C_A_605",l:1},{c:"C_I_502",l:1},{c:"C_T_401",l:1}],"P4":[{c:"C_P_302",l:2},{c:"C_A_605",l:1},{c:"C_I_502",l:1},{c:"C_T_401",l:1}],"P5":[{c:"C_P_302",l:2},{c:"C_A_605",l:2},{c:"C_I_502",l:2},{c:"C_T_401",l:2}],"P6":[{c:"C_P_302",l:3},{c:"C_T_401",l:3},{c:"C_I_502",l:2},{c:"C_A_605",l:2}],"P7":[{c:"C_P_302",l:4},{c:"C_T_401",l:4},{c:"C_I_502",l:3},{c:"C_A_605",l:3}],"P8":[{c:"C_P_302",l:4},{c:"C_T_401",l:4},{c:"C_I_502",l:4},{c:"C_A_605",l:4}],"P9":[{c:"C_P_302",l:5},{c:"C_T_401",l:5},{c:"C_I_502",l:4},{c:"C_A_605",l:4}],"P10":[{c:"C_P_302",l:5},{c:"C_T_401",l:5},{c:"C_I_502",l:5},{c:"C_A_605",l:5}]},"O-USR":{"P3":[{c:"C_P_302",l:1},{c:"C_A_605",l:1},{c:"C_I_502",l:1},{c:"C_T_401",l:1}],"P4":[{c:"C_P_302",l:2},{c:"C_A_605",l:1},{c:"C_I_502",l:1},{c:"C_T_401",l:1}],"P5":[{c:"C_P_302",l:2},{c:"C_A_605",l:2},{c:"C_I_502",l:2},{c:"C_T_401",l:2}],"P6":[{c:"C_P_302",l:3},{c:"C_T_401",l:3},{c:"C_I_502",l:2},{c:"C_A_605",l:2}],"P7":[{c:"C_P_302",l:4},{c:"C_T_401",l:4},{c:"C_I_502",l:3},{c:"C_A_605",l:3}],"P8":[{c:"C_P_302",l:4},{c:"C_T_401",l:4},{c:"C_I_502",l:4},{c:"C_A_605",l:4}],"P9":[{c:"C_P_302",l:5},{c:"C_T_401",l:5},{c:"C_I_502",l:4},{c:"C_A_605",l:4}],"P10":[{c:"C_P_302",l:5},{c:"C_T_401",l:5},{c:"C_I_502",l:5},{c:"C_A_605",l:5}]},"O-RSK":{"P3":[{c:"C_A_605",l:1},{c:"C_I_503",l:1},{c:"C_A_601",l:1},{c:"C_T_402",l:1}],"P4":[{c:"C_A_605",l:2},{c:"C_I_503",l:1},{c:"C_A_601",l:1},{c:"C_T_402",l:1}],"P5":[{c:"C_A_605",l:2},{c:"C_I_503",l:2},{c:"C_A_601",l:2},{c:"C_T_402",l:2}],"P6":[{c:"C_A_605",l:3},{c:"C_I_503",l:3},{c:"C_A_601",l:3},{c:"C_T_402",l:2}],"P7":[{c:"C_A_605",l:4},{c:"C_I_503",l:4},{c:"C_A_601",l:3},{c:"C_T_402",l:3}],"P8":[{c:"C_A_605",l:4},{c:"C_I_503",l:4},{c:"C_A_601",l:4},{c:"C_T_402",l:4}],"P9":[{c:"C_A_605",l:5},{c:"C_I_503",l:5},{c:"C_A_601",l:4},{c:"C_T_402",l:4}],"P10":[{c:"C_A_605",l:5},{c:"C_I_503",l:5},{c:"C_A_601",l:5},{c:"C_T_402",l:5}]},"M-MKT":{"P3":[{c:"C_I_501",l:1},{c:"C_T_401",l:1},{c:"C_M_204",l:1},{c:"C_P_302",l:1}],"P4":[{c:"C_I_501",l:2},{c:"C_T_401",l:1},{c:"C_M_204",l:1},{c:"C_P_302",l:1}],"P5":[{c:"C_I_501",l:2},{c:"C_T_401",l:2},{c:"C_M_204",l:2},{c:"C_P_302",l:2}],"P6":[{c:"C_I_501",l:3},{c:"C_T_401",l:3},{c:"C_M_204",l:2},{c:"C_P_302",l:2}],"P7":[{c:"C_I_501",l:4},{c:"C_T_401",l:4},{c:"C_M_204",l:3},{c:"C_P_302",l:3}],"P8":[{c:"C_I_501",l:4},{c:"C_T_401",l:4},{c:"C_M_204",l:4},{c:"C_P_302",l:4}],"P9":[{c:"C_I_501",l:5},{c:"C_T_401",l:5},{c:"C_M_204",l:4},{c:"C_P_302",l:4}],"P10":[{c:"C_I_501",l:5},{c:"C_T_401",l:5},{c:"C_M_204",l:5},{c:"C_P_302",l:5}]},"M-BD":{"P3":[{c:"C_I_501",l:1},{c:"C_M_204",l:1},{c:"C_I_507",l:1},{c:"C_T_402",l:1}],"P4":[{c:"C_I_501",l:2},{c:"C_M_204",l:1},{c:"C_I_507",l:1},{c:"C_T_402",l:1}],"P5":[{c:"C_I_501",l:2},{c:"C_M_204",l:2},{c:"C_I_507",l:2},{c:"C_T_402",l:2}],"P6":[{c:"C_I_501",l:3},{c:"C_M_204",l:3},{c:"C_I_507",l:2},{c:"C_T_402",l:2}],"P7":[{c:"C_I_501",l:4},{c:"C_M_204",l:4},{c:"C_I_507",l:3},{c:"C_T_402",l:3}],"P8":[{c:"C_I_501",l:4},{c:"C_M_204",l:4},{c:"C_I_507",l:4},{c:"C_T_402",l:4}],"P9":[{c:"C_I_501",l:5},{c:"C_M_204",l:5},{c:"C_I_507",l:4},{c:"C_T_402",l:4}],"P10":[{c:"C_I_501",l:5},{c:"C_M_204",l:5},{c:"C_I_507",l:5},{c:"C_T_402",l:5}]},"M-COM":{"P3":[{c:"C_I_501",l:1},{c:"C_M_204",l:1},{c:"C_P_302",l:1},{c:"C_T_402",l:1}],"P4":[{c:"C_I_501",l:2},{c:"C_M_204",l:1},{c:"C_P_302",l:1},{c:"C_T_402",l:1}],"P5":[{c:"C_I_501",l:2},{c:"C_M_204",l:2},{c:"C_P_302",l:2},{c:"C_T_402",l:2}],"P6":[{c:"C_I_501",l:3},{c:"C_M_204",l:3},{c:"C_P_302",l:2},{c:"C_T_402",l:2}],"P7":[{c:"C_I_501",l:4},{c:"C_M_204",l:4},{c:"C_P_302",l:3},{c:"C_T_402",l:3}],"P8":[{c:"C_I_501",l:4},{c:"C_M_204",l:4},{c:"C_P_302",l:4},{c:"C_T_402",l:4}],"P9":[{c:"C_I_501",l:5},{c:"C_M_204",l:5},{c:"C_P_302",l:4},{c:"C_T_402",l:4}],"P10":[{c:"C_I_501",l:5},{c:"C_M_204",l:5},{c:"C_P_302",l:5},{c:"C_T_402",l:5}]},"M-PR":{"P3":[{c:"C_I_502",l:1},{c:"C_I_507",l:1},{c:"C_M_204",l:1},{c:"C_I_506",l:1}],"P4":[{c:"C_I_502",l:2},{c:"C_I_507",l:1},{c:"C_M_204",l:1},{c:"C_I_506",l:1}],"P5":[{c:"C_I_502",l:2},{c:"C_I_507",l:2},{c:"C_M_204",l:2},{c:"C_I_506",l:2}],"P6":[{c:"C_I_502",l:3},{c:"C_I_507",l:3},{c:"C_M_204",l:3},{c:"C_I_506",l:2}],"P7":[{c:"C_I_502",l:4},{c:"C_I_507",l:4},{c:"C_M_204",l:3},{c:"C_I_506",l:3}],"P8":[{c:"C_I_502",l:4},{c:"C_I_507",l:4},{c:"C_M_204",l:4},{c:"C_I_506",l:4}],"P9":[{c:"C_I_502",l:5},{c:"C_I_507",l:5},{c:"C_M_204",l:4},{c:"C_I_506",l:4}],"P10":[{c:"C_I_502",l:5},{c:"C_I_507",l:5},{c:"C_M_204",l:5},{c:"C_I_506",l:5}]},"F-HR":{"P3":[{c:"C_I_502",l:1},{c:"C_A_605",l:1},{c:"C_M_201",l:1},{c:"C_A_603",l:1}],"P4":[{c:"C_I_502",l:2},{c:"C_A_605",l:1},{c:"C_M_201",l:1},{c:"C_A_603",l:1}],"P5":[{c:"C_I_502",l:2},{c:"C_A_605",l:2},{c:"C_M_201",l:2},{c:"C_A_603",l:2}],"P6":[{c:"C_I_502",l:3},{c:"C_A_605",l:3},{c:"C_M_201",l:2},{c:"C_A_603",l:2}],"P7":[{c:"C_I_502",l:4},{c:"C_A_605",l:4},{c:"C_M_201",l:3},{c:"C_A_603",l:3}],"P8":[{c:"C_I_502",l:4},{c:"C_A_605",l:4},{c:"C_M_201",l:4},{c:"C_A_603",l:4}],"P9":[{c:"C_I_502",l:5},{c:"C_A_605",l:5},{c:"C_M_201",l:4},{c:"C_A_603",l:4}],"P10":[{c:"C_I_502",l:5},{c:"C_A_605",l:5},{c:"C_M_201",l:5},{c:"C_A_603",l:5}]},"F-FL":{"P3":[{c:"C_A_605",l:1},{c:"C_I_503",l:1},{c:"C_P_303",l:1},{c:"C_A_601",l:1}],"P4":[{c:"C_A_605",l:2},{c:"C_I_503",l:1},{c:"C_P_303",l:1},{c:"C_A_601",l:1}],"P5":[{c:"C_A_605",l:2},{c:"C_I_503",l:2},{c:"C_P_303",l:2},{c:"C_A_601",l:2}],"P6":[{c:"C_A_605",l:3},{c:"C_I_503",l:3},{c:"C_P_303",l:3},{c:"C_A_601",l:2}],"P7":[{c:"C_A_605",l:4},{c:"C_I_503",l:4},{c:"C_P_303",l:3},{c:"C_A_601",l:3}],"P8":[{c:"C_A_605",l:4},{c:"C_I_503",l:4},{c:"C_P_303",l:4},{c:"C_A_601",l:4}],"P9":[{c:"C_A_605",l:5},{c:"C_I_503",l:5},{c:"C_P_303",l:4},{c:"C_A_601",l:4}],"P10":[{c:"C_A_605",l:5},{c:"C_I_503",l:5},{c:"C_P_303",l:5},{c:"C_A_601",l:5}]},"F-ADM":{"P3":[{c:"C_A_605",l:1},{c:"C_P_302",l:1},{c:"C_M_201",l:1},{c:"C_I_502",l:1}],"P4":[{c:"C_A_605",l:2},{c:"C_P_302",l:1},{c:"C_M_201",l:1},{c:"C_I_502",l:1}],"P5":[{c:"C_A_605",l:2},{c:"C_P_302",l:2},{c:"C_M_201",l:2},{c:"C_I_502",l:2}],"P6":[{c:"C_A_605",l:3},{c:"C_P_302",l:3},{c:"C_M_201",l:2},{c:"C_I_502",l:2}],"P7":[{c:"C_A_605",l:4},{c:"C_P_302",l:4},{c:"C_M_201",l:3},{c:"C_I_502",l:3}],"P8":[{c:"C_A_605",l:4},{c:"C_P_302",l:4},{c:"C_M_201",l:4},{c:"C_I_502",l:4}],"P9":[{c:"C_A_605",l:5},{c:"C_P_302",l:5},{c:"C_M_201",l:4},{c:"C_I_502",l:4}],"P10":[{c:"C_A_605",l:5},{c:"C_P_302",l:5},{c:"C_M_201",l:5},{c:"C_I_502",l:5}]},"PMO-PJM":{"P3":[{c:"C_M_201",l:1},{c:"C_I_502",l:1},{c:"C_A_605",l:1},{c:"C_A_603",l:1}],"P4":[{c:"C_M_201",l:2},{c:"C_I_502",l:1},{c:"C_A_605",l:1},{c:"C_A_603",l:1}],"P5":[{c:"C_M_201",l:2},{c:"C_I_502",l:2},{c:"C_A_605",l:2},{c:"C_A_603",l:2}],"P6":[{c:"C_M_201",l:3},{c:"C_I_502",l:3},{c:"C_A_605",l:2},{c:"C_A_603",l:2}],"P7":[{c:"C_M_201",l:4},{c:"C_I_502",l:4},{c:"C_A_605",l:3},{c:"C_A_603",l:3}],"P8":[{c:"C_M_201",l:4},{c:"C_I_502",l:4},{c:"C_A_605",l:4},{c:"C_A_603",l:4}],"P9":[{c:"C_M_201",l:5},{c:"C_I_502",l:5},{c:"C_A_605",l:4},{c:"C_A_603",l:4}],"P10":[{c:"C_M_201",l:5},{c:"C_I_502",l:5},{c:"C_A_605",l:5},{c:"C_A_603",l:5}]}};

        // --- DOM ELEMENTS ---
        const primarySelect = document.getElementById('primary-sequence');
        const secondarySelect = document.getElementById('secondary-sequence');
        const rankSelect = document.getElementById('rank');
        const rankTooltip = document.getElementById('rank-tooltip');
        const cardsContainer = document.getElementById('competency-cards-container');
        const initialMessage = document.getElementById('initial-message');
        const addBtn = document.getElementById('add-competency-btn');
        const modal = document.getElementById('add-modal');
        const modalCompetencySelect = document.getElementById('modal-competency-select');
        const modalLevelSelect = document.getElementById('modal-level-select');
        const modalAddBtn = document.getElementById('modal-add-btn');
        const modalCancelBtn = document.getElementById('modal-cancel-btn');
        const resumeSection = document.getElementById('resume-section');
        const resumeText = document.getElementById('resume-text');

        // --- INITIALIZATION ---
        function populateDropdowns() {
            Object.keys(sequences).forEach(primary => {
                primarySelect.add(new Option(primary, primary));
            });
            ranks.forEach(rank => {
                rankSelect.add(new Option(rank.name, rank.code));
            });
            const sortedCompetencies = Object.entries(competencyLibrary).sort((a, b) => a[0].localeCompare(b[0]));
            sortedCompetencies.forEach(([code, data]) => {
                modalCompetencySelect.add(new Option(data.name, code));
            });
        }

        // --- EVENT LISTENERS ---
        primarySelect.addEventListener('change', () => {
            const selectedPrimary = primarySelect.value;
            secondarySelect.innerHTML = '<option value="">请选择</option>';
            secondarySelect.disabled = true;
            rankSelect.disabled = true;
            rankSelect.value = '';
            resetView();
            if (selectedPrimary) {
                const secondaryOptions = sequences[selectedPrimary];
                Object.entries(secondaryOptions).forEach(([code, name]) => {
                    secondarySelect.add(new Option(name, code));
                });
                secondarySelect.disabled = false;
            }
        });

        secondarySelect.addEventListener('change', () => {
            rankSelect.disabled = !secondarySelect.value;
            rankSelect.value = '';
            resetView();
        });

        rankSelect.addEventListener('change', () => {
            updateRankTooltip();
            if (rankSelect.value) {
                renderModel();
                addBtn.disabled = false;
            } else {
                resetView();
            }
        });
        
        // Tooltip logic for rank select
        const rankSelectContainer = rankSelect.parentElement;
        rankSelectContainer.addEventListener('mouseover', updateRankTooltip);
        rankSelectContainer.addEventListener('focusin', updateRankTooltip);

        function updateRankTooltip() {
            const rankCode = rankSelect.value;
            if (rankCode) {
                const rankData = ranks.find(r => r.code === rankCode);
                if (rankData) {
                    rankTooltip.innerHTML = `<strong>${rankData.name}</strong><br>${rankData.definition}`;
                }
            } else {
                rankTooltip.textContent = '请选择一个职级以查看定义';
            }
        }

        addBtn.addEventListener('click', () => modal.classList.remove('hidden'));
        modalCancelBtn.addEventListener('click', () => modal.classList.add('hidden'));
        modalAddBtn.addEventListener('click', () => {
            const competencyCode = modalCompetencySelect.value;
            const level = parseInt(modalLevelSelect.value);
            createCompetencyCard(competencyCode, level);
            modal.classList.add('hidden');
        });

        // --- FUNCTIONS ---
        function resetView() {
            cardsContainer.innerHTML = '';
            cardsContainer.appendChild(initialMessage.cloneNode(true));
            addBtn.disabled = true;
            // 当没有选择职级时，隐藏简历区域
            if (!rankSelect.value) {
                resumeSection.classList.add('hidden');
            }
        }

        function renderModel() {
            const secondaryCode = secondarySelect.value;
            const rankCode = rankSelect.value;
            if (!secondaryCode || !rankCode) {
                resetView();
                return;
            }
            
            // 立即显示简历输入区域
            resumeSection.classList.remove('hidden');
            
            const competencies = modelData[secondaryCode] ? modelData[secondaryCode][rankCode] : [];
            cardsContainer.innerHTML = '';
            if (competencies && competencies.length > 0) {
                competencies.forEach(item => {
                    createCompetencyCard(item.c, item.l);
                });
            } else {
                 cardsContainer.innerHTML = `<div class="md:col-span-2 text-center py-16 px-6 bg-white rounded-xl shadow-md">
                    <h3 class="mt-2 text-lg font-medium text-gray-900">暂无为该序列定义的模型数据</h3>
                    <p class="mt-1 text-sm text-gray-500">您可以手动新增能力项。</p>
                </div>`;
            }
        }
        
        function createCompetencyCard(competencyCode, requiredLevel) {
            const competency = competencyLibrary[competencyCode];
            if (!competency) return;
            const card = document.createElement('div');
            card.className = 'bg-white p-6 rounded-xl shadow-md border border-gray-200 flex flex-col transition-all duration-300';
            card.setAttribute('data-competency-code', competencyCode);
            const header = document.createElement('div');
            header.className = 'flex justify-between items-start mb-4';
            header.innerHTML = `
                <h3 class="text-lg font-bold text-blue-700 pr-4">${competency.name}</h3>
                <div class="flex items-center gap-2">
                    <button class="generate-questions-btn bg-gradient-to-r from-blue-500 to-blue-600 text-white text-sm font-medium py-1 px-3 rounded-md hover:from-blue-600 hover:to-blue-700 transition shadow-sm">
                        AI生成面试问题
                    </button>
                    <button class="remove-btn text-gray-400 hover:text-red-500 transition text-2xl font-bold leading-none -mt-1">&times;</button>
                </div>
            `;
            header.querySelector('.remove-btn').addEventListener('click', () => card.remove());
            
            const generateBtn = header.querySelector('.generate-questions-btn');
            generateBtn.addEventListener('click', () => {
                const level = parseInt(card.querySelector('select').value);
                generateInterviewQuestions(competencyCode, level, card);
            });
            const levelSelectorContainer = document.createElement('div');
            levelSelectorContainer.className = 'mb-4';
            levelSelectorContainer.innerHTML = `<label class="block text-sm font-medium text-gray-700 mb-1">要求等级</label>`;
            const levelSelect = document.createElement('select');
            levelSelect.className = 'w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition';
            for (let i = 1; i <= 5; i++) {
                levelSelect.innerHTML += `<option value="${i}" ${i === requiredLevel ? 'selected' : ''}>L${i} - ${competency.levels[i-1].name.substring(3)}</option>`;
            }
            levelSelectorContainer.appendChild(levelSelect);
            const descriptionsContainer = document.createElement('div');
            descriptionsContainer.className = 'flex-grow space-y-4';
            const updateDescriptions = (level) => {
                descriptionsContainer.innerHTML = '';
                if (level < 2) {
                    const levelData = competency.levels[0];
                    descriptionsContainer.innerHTML = `<div><p class="font-semibold text-gray-800">${levelData.name}</p><div class="text-sm text-gray-600 mt-1 pl-4 border-l-2 border-blue-200">${levelData.desc}</div></div>`;
                } else {
                    for (let i = 0; i < level; i++) {
                        const levelData = competency.levels[i];
                        const levelDiv = document.createElement('div');
                        levelDiv.className = i < level - 1 ? 'opacity-60' : '';
                        levelDiv.innerHTML = `<p class="font-semibold text-gray-800">${levelData.name}</p><div class="text-sm text-gray-600 mt-1 pl-4 border-l-2 ${i < level - 1 ? 'border-gray-200' : 'border-blue-200'}">${levelData.desc}</div>`;
                        descriptionsContainer.appendChild(levelDiv);
                    }
                }
            };
            levelSelect.addEventListener('change', (e) => updateDescriptions(parseInt(e.target.value)));
            updateDescriptions(requiredLevel);
            
            // 创建面试问题展示区域
            const questionsSection = document.createElement('div');
            questionsSection.className = 'questions-section mt-6 pt-4 border-t border-gray-200 hidden';
            questionsSection.innerHTML = `
                <div class="flex items-center justify-between mb-4">
                    <h4 class="text-md font-semibold text-gray-800 flex items-center">
                        <svg class="w-5 h-5 mr-2 text-blue-600" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                        AI生成的面试问题
                    </h4>
                    <button class="collapse-questions-btn text-gray-400 hover:text-gray-600 text-xl font-bold">&minus;</button>
                </div>
                <div class="questions-content space-y-3">
                    <!-- Questions will be displayed here -->
                </div>
            `;
            
            // 添加折叠功能
            questionsSection.querySelector('.collapse-questions-btn').addEventListener('click', (e) => {
                const content = questionsSection.querySelector('.questions-content');
                const btn = e.target;
                if (content.style.display === 'none') {
                    content.style.display = 'block';
                    btn.innerHTML = '&minus;';
                } else {
                    content.style.display = 'none';
                    btn.innerHTML = '&plus;';
                }
            });
            
            card.appendChild(header);
            card.appendChild(levelSelectorContainer);
            card.appendChild(descriptionsContainer);
            card.appendChild(questionsSection);
            const initialMsgEl = document.getElementById('initial-message');
            if (initialMsgEl) initialMsgEl.remove();
            cardsContainer.appendChild(card);
        }

                // --- INTERVIEW QUESTIONS GENERATION ---
        async function generateInterviewQuestions(competencyCode, level, card) {
            const competency = competencyLibrary[competencyCode];
            if (!competency) return;
            
            const questionsSection = card.querySelector('.questions-section');
            const generateBtn = card.querySelector('.generate-questions-btn');
            
            // Update button state to loading
            updateButtonState(generateBtn, 'loading');
            
            // Show questions section and loading state
            questionsSection.classList.remove('hidden');
            showLoadingStateInCard(questionsSection, competency.name, level);
            
            const resume = resumeText.value.trim();
            
            try {
                const questions = await callQwenAPI(competency, level, resume);
                displayQuestionsInCard(questionsSection, competency.name, level, questions);
                updateButtonState(generateBtn, 'completed');
            } catch (error) {
                console.error('生成面试问题失败:', error);
                displayErrorInCard(questionsSection, competency.name, level, error.message);
                updateButtonState(generateBtn, 'error');
            }
        }
        
        function updateButtonState(button, state) {
            const states = {
                initial: {
                    text: 'AI生成面试问题',
                    classes: 'bg-gradient-to-r from-blue-500 to-blue-600 text-white hover:from-blue-600 hover:to-blue-700',
                    disabled: false
                },
                loading: {
                    text: '生成中...',
                    classes: 'bg-gray-400 text-white cursor-not-allowed',
                    disabled: true
                },
                completed: {
                    text: '重新生成问题',
                    classes: 'bg-gradient-to-r from-green-500 to-green-600 text-white hover:from-green-600 hover:to-green-700',
                    disabled: false
                },
                error: {
                    text: '重试生成',
                    classes: 'bg-gradient-to-r from-orange-500 to-orange-600 text-white hover:from-orange-600 hover:to-orange-700',
                    disabled: false
                }
            };
            
            const config = states[state];
            if (config) {
                button.textContent = config.text;
                button.className = `generate-questions-btn text-sm font-medium py-1 px-3 rounded-md transition shadow-sm ${config.classes}`;
                button.disabled = config.disabled;
            }
        }
        
        function showLoadingStateInCard(questionsSection, competencyName, level) {
            const questionsContent = questionsSection.querySelector('.questions-content');
            questionsContent.innerHTML = `
                <div class="flex items-center justify-center py-8">
                    <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"></div>
                    <span class="ml-3 text-gray-600">AI正在生成面试问题...</span>
                </div>
            `;
        }
        
        function displayErrorInCard(questionsSection, competencyName, level, errorMessage) {
            const questionsContent = questionsSection.querySelector('.questions-content');
            questionsContent.innerHTML = `
                <div class="p-4 bg-red-50 rounded-lg border border-red-200">
                    <div class="flex items-start gap-3">
                        <svg class="flex-shrink-0 w-5 h-5 text-red-600 mt-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                        <div>
                            <h5 class="text-red-800 font-medium mb-1">生成失败</h5>
                            <p class="text-red-700 text-sm">${errorMessage}</p>
                            <p class="text-red-600 text-xs mt-1">请检查网络连接或稍后重试</p>
                        </div>
                    </div>
                </div>
            `;
        }
        
        function displayQuestionsInCard(questionsSection, competencyName, level, questions) {
            const questionsContent = questionsSection.querySelector('.questions-content');
            questionsContent.innerHTML = `
                <div class="mb-4 p-3 bg-green-50 rounded-lg border border-green-200">
                    <p class="text-sm text-green-600 flex items-center">
                        <svg class="inline-block w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                        </svg>
                        通义千问AI已生成${questions.length}个基于BEI和STAR原则的面试问题
                    </p>
                </div>
                
                <div class="space-y-3">
                    ${questions.map((question, index) => `
                        <div class="p-3 bg-gray-50 rounded-lg border border-gray-200 hover:border-blue-300 transition-colors">
                            <div class="flex items-start gap-3">
                                <span class="flex-shrink-0 w-6 h-6 bg-gradient-to-r from-blue-600 to-blue-700 text-white text-xs font-bold rounded-full flex items-center justify-center">${index + 1}</span>
                                <p class="text-gray-800 text-sm leading-relaxed">${question}</p>
                            </div>
                        </div>
                    `).join('')}
                </div>
                
                <div class="mt-4 grid grid-cols-1 md:grid-cols-2 gap-3">
                    <div class="p-3 bg-yellow-50 rounded-lg border border-yellow-200">
                        <h5 class="text-xs font-semibold text-yellow-800 mb-1">
                            STAR追问技巧
                        </h5>
                        <p class="text-xs text-yellow-700">
                            <strong>S</strong>情境 → <strong>T</strong>任务 → <strong>A</strong>行动 → <strong>R</strong>结果
                        </p>
                    </div>
                    
                    <div class="p-3 bg-blue-50 rounded-lg border border-blue-200">
                        <h5 class="text-xs font-semibold text-blue-800 mb-1">
                            评估要点
                        </h5>
                        <p class="text-xs text-blue-700">
                            关注具体行为、思考逻辑和结果导向
                        </p>
                    </div>
                </div>
                
                <div class="mt-3 p-2 bg-gray-50 rounded border border-gray-200">
                    <p class="text-xs text-gray-500 text-center">
                        ⚡ 由通义千问AI驱动
                    </p>
                </div>
            `;
        }
        

        
        async function callQwenAPI(competency, level, resume = '') {
            const levelData = competency.levels[level - 1];
            const competencyName = competency.name;
            const levelName = levelData.name;
            const levelDesc = levelData.desc.replace(/<br>/g, ' ').replace(/•/g, '').trim();
            
            // 构建提示词
            let prompt = `
作为专业的HR面试官，请为"${competencyName}"能力项生成6个高质量的行为面试问题。

【能力要求】
- 能力名称：${competencyName}
- 要求等级：${levelName}
- 具体描述：${levelDesc}

【面试要求】
1. 必须严格遵循BEI（行为事件访谈法）和STAR（情境-任务-行动-结果）原则
2. 问题要具体、可操作，能够有效评估候选人在该能力上的真实水平
3. 包含不同类型的问题：情境问题、任务问题、行动问题、结果问题、反思问题等
4. 问题设计要层次递进，从基础行为到深度思考
5. 语言要专业、简洁、易于理解`;

            if (resume) {
                prompt += `

【候选人简历背景】
${resume}

请结合候选人的工作经历，生成更有针对性的面试问题。`;
            }

            prompt += `

【输出格式】
请直接输出6个面试问题，每个问题单独一行，不需要编号。问题要求：
- 具体明确，避免过于宽泛
- 能够引导候选人详细描述具体行为和结果
- 适合用于深入追问和验证
- 符合该能力等级的要求`;

            const requestBody = {
                model: QWEN_API_CONFIG.model,
                messages: [
                    {
                        role: "user",
                        content: prompt
                    }
                ],
                max_tokens: 2000,
                temperature: 0.7,
                top_p: 0.8
            };

            const response = await fetch(`${QWEN_API_CONFIG.baseURL}/chat/completions`, {
                method: 'POST',
                headers: QWEN_API_CONFIG.headers,
                body: JSON.stringify(requestBody)
            });
            
            if (!response.ok) {
                const errorText = await response.text();
                throw new Error(`API调用失败 (${response.status}): ${errorText}`);
            }
            
            const data = await response.json();
            
            if (!data.choices || !data.choices[0] || !data.choices[0].message) {
                throw new Error('API返回格式异常：缺少有效的回复内容');
            }

            const content = data.choices[0].message.content.trim();
            
            // 解析返回的问题
            const questions = content.split('\n')
                .map(q => q.trim())
                .filter(q => q.length > 0)
                .filter(q => !q.match(/^\d+[\.\)]/)) // 过滤掉可能的编号
                .slice(0, 6); // 最多取6个问题

            if (questions.length === 0) {
                throw new Error('AI生成的内容格式异常，无法解析出有效问题');
            }

            return questions;
        }
        
        function createBEIQuestions(competency, level, resume = '') {
            const levelData = competency.levels[level - 1];
            const competencyName = competency.name;
            const levelName = levelData.name;
            const levelDesc = levelData.desc.replace(/<br>/g, ' ').replace(/•/g, '').trim();
            
            // 基于STAR原则生成不同类型的问题
            const questions = [];
            
            // 情境类问题 (Situation)
            const situationQuestions = [
                `请描述一个您在${competencyName.substring(4)}方面遇到挑战的具体情况。当时的背景是什么？`,
                `能否分享一个需要您展现${levelName.substring(3)}能力的工作场景？`,
                `请举例说明您在工作中如何体现${competencyName.substring(4)}这一能力的。`
            ];
            
            // 任务类问题 (Task)
            const taskQuestions = [
                `在刚才描述的情况中，您需要完成什么样的任务或达到什么目标？`,
                `当时您的职责是什么？您需要承担哪些具体工作？`,
                `面对这个挑战，您认为自己需要做到什么程度才算成功？`
            ];
            
            // 行动类问题 (Action)
            const actionQuestions = [
                `您具体采取了哪些行动来应对这个情况？请详细描述您的做法。`,
                `在处理这个问题的过程中，您是如何运用${competencyName.substring(4)}相关技能的？`,
                `当遇到困难时，您是如何调整策略的？`
            ];
            
            // 结果类问题 (Result)
            const resultQuestions = [
                `您的行动产生了什么样的结果？达到预期目标了吗？`,
                `这次经历对您个人能力提升有什么帮助？`,
                `如果再次遇到类似情况，您会如何改进您的做法？`
            ];
            
            // 从每类问题中随机选择1-2个
            questions.push(situationQuestions[Math.floor(Math.random() * situationQuestions.length)]);
            questions.push(taskQuestions[Math.floor(Math.random() * taskQuestions.length)]);
            questions.push(actionQuestions[Math.floor(Math.random() * actionQuestions.length)]);
            questions.push(resultQuestions[Math.floor(Math.random() * resultQuestions.length)]);
            
            // 如果有简历信息，生成个性化问题
            if (resume) {
                const personalizedQuestions = createPersonalizedQuestions(competency, level, resume);
                questions.push(...personalizedQuestions);
            }
            
            return questions;
        }
        
        function createPersonalizedQuestions(competency, level, resume) {
            const competencyName = competency.name.substring(4);
            const questions = [];
            
            // 简单的关键词匹配来生成个性化问题
            const experienceKeywords = ['项目', '团队', '管理', '负责', '领导', '开发', '设计'];
            const foundKeywords = experienceKeywords.filter(keyword => resume.includes(keyword));
            
            if (foundKeywords.includes('项目')) {
                questions.push(`根据您简历中提到的项目经验，能否具体说明在某个项目中如何运用${competencyName}能力的？`);
            }
            
            if (foundKeywords.includes('团队') || foundKeywords.includes('管理')) {
                questions.push(`您简历中提到了团队管理经验，请结合${competencyName}这一能力，分享一个具体的管理实例。`);
            }
            
            if (foundKeywords.includes('负责')) {
                questions.push(`根据您在简历中描述的工作职责，请举例说明您是如何在日常工作中体现${competencyName}的？`);
            }
            
            // 如果没有匹配到关键词，生成通用个性化问题
            if (questions.length === 0) {
                questions.push(`结合您的工作经历，请分享一个最能体现您在${competencyName}方面能力的实例。`);
            }
            
            return questions.slice(0, 2); // 最多返回2个个性化问题
        }
        

        // --- SCRIPT EXECUTION ---
        document.addEventListener('DOMContentLoaded', populateDropdowns);
    </script>
</body>
</html>